{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar amphtml_context_1 = require(\"./amphtml-context\");\n\nfunction isAmp() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$enabled = _ref.enabled,\n      enabled = _ref$enabled === void 0 ? false : _ref$enabled,\n      _ref$hybrid = _ref.hybrid,\n      hybrid = _ref$hybrid === void 0 ? false : _ref$hybrid,\n      _ref$hasQuery = _ref.hasQuery,\n      hasQuery = _ref$hasQuery === void 0 ? false : _ref$hasQuery;\n\n  return enabled && (!hybrid || hybrid && hasQuery);\n}\n\nexports.isAmp = isAmp;\n\nfunction useAmp() {\n  var ampMode = react_1.default.useContext(amphtml_context_1.AmpModeContext); // un-comment below to not be considered AMP in dirty mode\n\n  return isAmp(ampMode); // && ampMode.hasQuery\n}\n\nexports.useAmp = useAmp;\n\nfunction withAmp(Component) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref2$hybrid = _ref2.hybrid,\n      hybrid = _ref2$hybrid === void 0 ? false : _ref2$hybrid;\n\n  function WithAmpWrapper() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ampMode = react_1.default.useContext(amphtml_context_1.AmpModeContext);\n    ampMode.enabled = true;\n    ampMode.hybrid = hybrid;\n    return react_1.default.createElement(Component, props);\n  }\n\n  WithAmpWrapper.__nextAmpOnly = !hybrid;\n  WithAmpWrapper.getInitialProps = Component.getInitialProps;\n  return WithAmpWrapper;\n}\n\nexports.withAmp = withAmp;","map":{"version":3,"sources":["/Users/andrewmclagan/development/beam/packages/react-env/examples/next.js/node_modules/next-server/dist/lib/amp.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","react_1","require","amphtml_context_1","isAmp","enabled","hybrid","hasQuery","useAmp","ampMode","default","useContext","AmpModeContext","withAmp","Component","WithAmpWrapper","props","createElement","__nextAmpOnly","getInitialProps"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,UAAQ,SAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAMC,OAAO,GAAGP,eAAe,CAACQ,OAAO,CAAC,OAAD,CAAR,CAA/B;;AACA,IAAMC,iBAAiB,GAAGD,OAAO,CAAC,mBAAD,CAAjC;;AACA,SAASE,KAAT,GAA4E;AAAA,iFAAJ,EAAI;AAAA,0BAA3DC,OAA2D;AAAA,MAA3DA,OAA2D,6BAAjD,KAAiD;AAAA,yBAA1CC,MAA0C;AAAA,MAA1CA,MAA0C,4BAAjC,KAAiC;AAAA,2BAA1BC,QAA0B;AAAA,MAA1BA,QAA0B,8BAAf,KAAe;;AACxE,SAAOF,OAAO,KAAK,CAACC,MAAD,IAAYA,MAAM,IAAIC,QAA3B,CAAd;AACH;;AACDR,OAAO,CAACK,KAAR,GAAgBA,KAAhB;;AACA,SAASI,MAAT,GAAkB;AACd,MAAMC,OAAO,GAAGR,OAAO,CAACS,OAAR,CAAgBC,UAAhB,CAA2BR,iBAAiB,CAACS,cAA7C,CAAhB,CADc,CAEd;;AACA,SAAOR,KAAK,CAACK,OAAD,CAAZ,CAHc,CAGS;AAC1B;;AACDV,OAAO,CAACS,MAAR,GAAiBA,MAAjB;;AACA,SAASK,OAAT,CAAiBC,SAAjB,EAAqD;AAAA,kFAAJ,EAAI;AAAA,2BAAvBR,MAAuB;AAAA,MAAvBA,MAAuB,6BAAd,KAAc;;AACjD,WAASS,cAAT,GAAoC;AAAA,QAAZC,KAAY,uEAAJ,EAAI;AAChC,QAAMP,OAAO,GAAGR,OAAO,CAACS,OAAR,CAAgBC,UAAhB,CAA2BR,iBAAiB,CAACS,cAA7C,CAAhB;AACAH,IAAAA,OAAO,CAACJ,OAAR,GAAkB,IAAlB;AACAI,IAAAA,OAAO,CAACH,MAAR,GAAiBA,MAAjB;AACA,WAAOL,OAAO,CAACS,OAAR,CAAgBO,aAAhB,CAA8BH,SAA9B,EAAyCE,KAAzC,CAAP;AACH;;AACDD,EAAAA,cAAc,CAACG,aAAf,GAA+B,CAACZ,MAAhC;AACAS,EAAAA,cAAc,CAACI,eAAf,GAAiCL,SAAS,CAACK,eAA3C;AACA,SAAOJ,cAAP;AACH;;AACDhB,OAAO,CAACc,OAAR,GAAkBA,OAAlB","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nconst amphtml_context_1 = require(\"./amphtml-context\");\nfunction isAmp({ enabled = false, hybrid = false, hasQuery = false, } = {}) {\n    return enabled && (!hybrid || (hybrid && hasQuery));\n}\nexports.isAmp = isAmp;\nfunction useAmp() {\n    const ampMode = react_1.default.useContext(amphtml_context_1.AmpModeContext);\n    // un-comment below to not be considered AMP in dirty mode\n    return isAmp(ampMode); // && ampMode.hasQuery\n}\nexports.useAmp = useAmp;\nfunction withAmp(Component, { hybrid = false } = {}) {\n    function WithAmpWrapper(props = {}) {\n        const ampMode = react_1.default.useContext(amphtml_context_1.AmpModeContext);\n        ampMode.enabled = true;\n        ampMode.hybrid = hybrid;\n        return react_1.default.createElement(Component, props);\n    }\n    WithAmpWrapper.__nextAmpOnly = !hybrid;\n    WithAmpWrapper.getInitialProps = Component.getInitialProps;\n    return WithAmpWrapper;\n}\nexports.withAmp = withAmp;\n"]},"metadata":{},"sourceType":"script"}